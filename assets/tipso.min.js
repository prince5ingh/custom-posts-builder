/*!
 * tipso - A Lightweight Responsive jQuery Tooltip Plugin v1.0.0
 * Copyright (c) 2014 Bojan Petkovski
 * http://tipso.object505.com
 * Licensed under the MIT license
 * http://object505.mit-license.org/
 */
!function(t,o,e,s){function r(o,e){this.element=t(o),this.settings=t.extend({},f,e),this._defaults=f,this._name=d,this._title=this.element.attr("title"),this.mode="hide",this.init()}function i(){var t=o.navigator.msMaxTouchPoints,s="ontouchstart"in e.createElement("div");return t||s?!0:!1}function n(o){var e=o.clone();e.css("visibility","hidden"),t("body").append(e);var s=e.outerHeight();return e.remove(),s}function a(e){var s,r,i=e.tooltip(),a=e.element,d=e,f=t(o),l=10;switch(d.settings.position){case"top":r=a.offset().left+a.outerWidth()/2-i.outerWidth()/2,s=a.offset().top-n(i)-l,i.find(".tipso_arrow").css({marginLeft:-8}),s<f.scrollTop()?(s=a.offset().top+a.outerHeight()+l,i.find(".tipso_arrow").css({"border-bottom-color":d.settings.background,"border-top-color":"transparent"}),i.removeClass("top bottom left right"),i.addClass("bottom")):(i.find(".tipso_arrow").css({"border-top-color":d.settings.background,"border-bottom-color":"transparent"}),i.removeClass("top bottom left right"),i.addClass("top"));break;case"bottom":r=a.offset().left+a.outerWidth()/2-i.outerWidth()/2,s=a.offset().top+a.outerHeight()+l,i.find(".tipso_arrow").css({marginLeft:-8}),s+n(i)>f.scrollTop()+f.outerHeight()?(s=a.offset().top-n(i)-l,i.find(".tipso_arrow").css({"border-top-color":d.settings.background,"border-bottom-color":"transparent"}),i.removeClass("top bottom left right"),i.addClass("top")):(i.find(".tipso_arrow").css({"border-bottom-color":d.settings.background,"border-top-color":"transparent"}),i.removeClass("top bottom left right"),i.addClass(d.settings.position));break;case"left":r=a.offset().left-i.outerWidth()-l,s=a.offset().top+a.outerHeight()/2-n(i)/2,i.find(".tipso_arrow").css({marginTop:-8,marginLeft:""}),r<f.scrollLeft()?(r=a.offset().left+a.outerWidth()+l,i.find(".tipso_arrow").css({"border-right-color":d.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),i.removeClass("top bottom left right"),i.addClass("right")):(i.find(".tipso_arrow").css({"border-left-color":d.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),i.removeClass("top bottom left right"),i.addClass(d.settings.position));break;case"right":r=a.offset().left+a.outerWidth()+l,s=a.offset().top+a.outerHeight()/2-n(i)/2,i.find(".tipso_arrow").css({marginTop:-8,marginLeft:""}),r+l+d.settings.width>f.scrollLeft()+f.outerWidth()?(r=a.offset().left-i.outerWidth()-l,i.find(".tipso_arrow").css({"border-left-color":d.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),i.removeClass("top bottom left right"),i.addClass("left")):(i.find(".tipso_arrow").css({"border-right-color":d.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),i.removeClass("top bottom left right"),i.addClass(d.settings.position))}r>=f.scrollLeft()||"bottom"!=d.settings.position&&"top"!=d.settings.position||(i.find(".tipso_arrow").css({marginLeft:r-8}),r=0),r+d.settings.width<=f.outerWidth()||"bottom"!=d.settings.position&&"top"!=d.settings.position||(diff=f.outerWidth()-(r+d.settings.width),i.find(".tipso_arrow").css({marginLeft:-diff-8,marginTop:""}),r+=diff),r>=f.scrollLeft()||"left"!=d.settings.position&&"right"!=d.settings.position||(r=a.offset().left+a.outerWidth()/2-i.outerWidth()/2,i.find(".tipso_arrow").css({marginLeft:-8,marginTop:""}),s=a.offset().top-n(i)-l,s<f.scrollTop()?(s=a.offset().top+a.outerHeight()+l,i.find(".tipso_arrow").css({"border-bottom-color":d.settings.background,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),i.removeClass("top bottom left right"),i.addClass("bottom")):(i.find(".tipso_arrow").css({"border-top-color":d.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),i.removeClass("top bottom left right"),i.addClass("top")),r+d.settings.width>f.outerWidth()&&(diff=f.outerWidth()-(r+d.settings.width),i.find(".tipso_arrow").css({marginLeft:-diff-8,marginTop:""}),r+=diff),r<f.scrollLeft()&&(i.find(".tipso_arrow").css({marginLeft:r-8}),r=0)),r+d.settings.width<=f.outerWidth()||"left"!=d.settings.position&&"right"!=d.settings.position||(r=a.offset().left+a.outerWidth()/2-i.outerWidth()/2,i.find(".tipso_arrow").css({marginLeft:-8,marginTop:""}),s=a.offset().top-n(i)-l,s<f.scrollTop()?(s=a.offset().top+a.outerHeight()+l,i.find(".tipso_arrow").css({"border-bottom-color":d.settings.background,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),i.removeClass("top bottom left right"),i.addClass("bottom")):(i.find(".tipso_arrow").css({"border-top-color":d.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),i.removeClass("top bottom left right"),i.addClass("top")),r+d.settings.width>f.outerWidth()&&(diff=f.outerWidth()-(r+d.settings.width),i.find(".tipso_arrow").css({marginLeft:-diff-8,marginTop:""}),r+=diff),r<f.scrollLeft()&&(i.find(".tipso_arrow").css({marginLeft:r-8}),r=0)),i.css({left:r+d.settings.offsetX,top:s+d.settings.offsetY})}var d="tipso",f={speed:400,background:"#55b555",color:"#ffffff",position:"top",width:200,delay:200,offsetX:0,offsetY:0,content:null,useTitle:!0,onShow:null,onHide:null};t.extend(r.prototype,{init:function(){var o=this,s=this.element;s.addClass("tipso_style").removeAttr("title"),i()?(s.on("click."+d,function(t){"hide"==o.mode?o.show():o.hide(),t.stopPropagation()}),t(e).on("click",function(){"show"==o.mode&&o.hide()})):(s.on("mouseover."+d,function(){o.show()}),s.on("mouseout."+d,function(){o.hide()}))},tooltip:function(){return this.tipso_bubble||(this.tipso_bubble=t('<div class="tipso_bubble"><div class="tipso_content"></div><div class="tipso_arrow"></div></div>')),this.tipso_bubble},show:function(){var e=this.tooltip(),s=(this.element,this),r=t(o);e.css({background:s.settings.background,color:s.settings.color,width:s.settings.width}).hide(),e.find(".tipso_content").html(s.content()),a(s),r.resize(function(){a(s)}),s.timeout=o.setTimeout(function(){e.appendTo("body").stop(!0,!0).fadeIn(s.settings.speed,function(){s.mode="show",t.isFunction(s.settings.onShow)&&s.settings.onShow(t(this))})},s.settings.delay)},hide:function(){var e=this,s=this.tooltip();o.clearTimeout(e.timeout),e.timeout=null,s.stop(!0,!0).fadeOut(e.settings.speed,function(){t(this).remove(),t.isFunction(e.settings.onHide)&&"show"==e.mode&&e.settings.onHide(t(this)),e.mode="hide"})},destroy:function(){$e=this.element,$e.off("."+d),$e.removeData(d),$e.removeClass("tipso_style").attr("title",this._title)},content:function(){var t,o=this.element,e=this,s=this._title;return t=e.settings.content?e.settings.content:1==e.settings.useTitle?s:o.data("tipso")},update:function(t,o){var e=this;return o?(e.settings[t]=o,s):e.settings[t]}}),t[d]=t.fn[d]=function(o){var e=arguments;if(o===s||"object"==typeof o)return this instanceof t||t.extend(f,o),this.each(function(){t.data(this,"plugin_"+d)||t.data(this,"plugin_"+d,new r(this,o))});if("string"==typeof o&&"_"!==o[0]&&"init"!==o){var i;return this.each(function(){var s=t.data(this,"plugin_"+d);s||(s=t.data(this,"plugin_"+d,new r(this,o))),s instanceof r&&"function"==typeof s[o]&&(i=s[o].apply(s,Array.prototype.slice.call(e,1))),"destroy"===o&&t.data(this,"plugin_"+d,null)}),i!==s?i:this}}}(jQuery,window,document);